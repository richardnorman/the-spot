(this["webpackJsonpthe-spot"]=this["webpackJsonpthe-spot"]||[]).push([[0],{107:function(e,t,a){e.exports=a(125)},112:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},119:function(e,t,a){},121:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(9),r=a.n(c),i=(a(112),a(113),a(158)),s=a(161),l=a(163),u=a(166),d=a(165),m=a(164),p=a(167),h=a(126),g=a(11),b=(a(114),Object(i.a)({root:{maxWidth:"100%"},media:{height:150}})),f=function(e){var t=e.id,a=void 0===t?"":t,n=e.title,c=void 0===n?"":n,r=e.description,i=void 0===r?"":r,f=e.image,E=void 0===f?"":f,v=e.coords,O=e.dateCreated,y=void 0===O?"":O,j=b(),S=Object(g.f)();return o.a.createElement("div",{onClick:function(){S.push("/the-spot/update-spot?id=".concat(a,"&name=").concat(c,"&description=").concat(i,"&image=").concat(E,"&coords=").concat(v,"&dateCreated=").concat(y))},className:"card-container"},o.a.createElement(s.a,{className:j.root},o.a.createElement(l.a,null,o.a.createElement(m.a,{className:j.media,image:E}),o.a.createElement(d.a,null,o.a.createElement(h.a,{gutterBottom:!0,variant:"h5",component:"h2"},c),o.a.createElement(h.a,{variant:"body2",color:"textSecondary",component:"p"},i))),o.a.createElement(u.a,null,o.a.createElement(p.a,{target:"_blank",href:"https://www.google.com/maps/place/".concat(v),size:"small",color:"primary"},"View Location"))))},E=a(168),v=a(88),O=a.n(v),y=(a(119),Object(i.a)((function(e){return{extendedIcon:{marginRight:e.spacing(1)}}}))),j=function(e){var t=y();return o.a.createElement(E.a,{className:"floating-add-spot",variant:"extended"},o.a.createElement(O.a,{className:t.extendedIcon}),"Add a Spot")},S=a(18),N=a(46),w=a(169),C=a(170),k=a(171),x=a(176),L=a(14),R=a(90),T=a.n(R),U=a(91),I=a.n(U),P=a(175),_=a(19),A=a(16),D=Object(i.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(N.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(N.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(L.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(L.b)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(N.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"20ch","&:focus":{width:"20ch"}})}})),J=function(){var e=D(),t=Object(n.useState)(!1),a=Object(S.a)(t,2),c=a[0],r=a[1],i=Object(_.b)();return o.a.createElement(n.Fragment,null,o.a.createElement(w.a,{style:{background:"white",color:"black"},position:"sticky"},o.a.createElement(C.a,null,o.a.createElement(k.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"open drawer",onClick:function(){return r(!c)}},o.a.createElement(T.a,null)),o.a.createElement(h.a,{className:e.title,variant:"h6",noWrap:!0},"My Spots"),o.a.createElement("div",{className:e.search},o.a.createElement("div",{className:e.searchIcon},o.a.createElement(I.a,null)),o.a.createElement(x.a,{placeholder:"Search your spots",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"},onChange:function(e){i({type:"CHANGE_SEARCH",payload:e.target.value})}})))),o.a.createElement(P.a,{anchor:"left",open:c,onClose:function(){return r(!1)}},o.a.createElement(A.b,{to:"/the-spot/sign-in",style:{textDecoration:"none",color:"black"}},o.a.createElement("h2",{style:{paddingLeft:"15px",paddingRight:"60px",cursor:"pointer"}},"Sign out"))))},B=a(173),G=a(177),H=a(172),W=(a(121),Object(i.a)({root:{maxWidth:"90%"},media:{height:200}})),V=function(e){var t=e.isUpdating,a=void 0!==t&&t,c=e.id,r=void 0===c?"":c,i=e.name,l=void 0===i?"":i,u=e.description,h=void 0===u?"":u,g=e.image,b=void 0===g?"":g,f=e.coords,v=void 0===f?"":f,O=e.dateCreated,y=void 0===O?"":O,j=(Object(_.c)((function(e){return e.modifySpotList.spotList})),Object(_.c)((function(e){return e.changeCurrentUser.currentUserEmail}))),N=(Object(_.b)(),W()),w=Object(n.useState)(l),C=Object(S.a)(w,2),k=C[0],x=C[1],L=Object(n.useState)(h),R=Object(S.a)(L,2),T=R[0],U=R[1],I=Object(n.useState)(v),P=Object(S.a)(I,2),D=P[0],J=P[1],V=Object(n.useState)(!1),z=Object(S.a)(V,2),F=z[0],M=z[1],$=Object(n.useState)(b),q=Object(S.a)($,2),K=q[0],Q=q[1];function X(e){J("".concat(e.coords.latitude,", ").concat(e.coords.longitude))}function Y(e){alert("Location can not be found, try connecting to a network."+e)}return o.a.createElement("div",{className:"page"},o.a.createElement("div",{className:"editable-card"},o.a.createElement(s.a,{className:N.root},o.a.createElement(m.a,{className:N.media,image:""===K?"https://bhmlib.org/wp-content/themes/cosimo-pro/images/no-image-box.png":K}),o.a.createElement(d.a,null,o.a.createElement(p.a,{onClick:function(e){Q(prompt("Enter image URL:")||"")},className:"add-image-button",variant:"contained"},a?"Edit Image":"Add image"),o.a.createElement(B.a,{className:"inputs",id:"standard-basic",label:"Name",onChange:function(e){return x(e.target.value)},value:k}),o.a.createElement(B.a,{className:"inputs",id:"standard-basic",label:"Description",onChange:function(e){return U(e.target.value)},value:T}),a?null:o.a.createElement(n.Fragment,null,o.a.createElement(H.a,{className:"use-location-switch",control:o.a.createElement(G.a,{name:"checkedB",checked:F,onChange:function(e){F?(J(""),M(!1)):(M(!0),navigator.geolocation.getCurrentPosition(X,Y))},color:"primary"}),label:"Use current location"}),F?null:o.a.createElement(B.a,{className:"inputs",id:"standard-basic",label:"Location",onChange:function(e){return J(e.target.value)}}))))),o.a.createElement(A.b,{to:"/the-spot/",style:{textDecoration:"none"}},o.a.createElement(E.a,{disabled:""===k||""===D,onClick:function(){a?fetch("https://the-spot01.herokuapp.com/update-spot/".concat(j),{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:r,title:k,description:T,image:""===K?"https://bhmlib.org/wp-content/themes/cosimo-pro/images/no-image-box.png":K,coords:D,dateCreated:y})}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})):fetch("https://the-spot01.herokuapp.com/add-spot/".concat(j),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:k,description:T,image:""===K?"https://bhmlib.org/wp-content/themes/cosimo-pro/images/no-image-box.png":K,coords:D})}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},color:"primary",className:"done-button",variant:"extended"},"Done")),a?o.a.createElement(A.b,{to:"/the-spot/",style:{textDecoration:"none"}},o.a.createElement(p.a,{className:"remove-spot-button",onClick:function(){fetch("https://the-spot01.herokuapp.com/remove-spot/".concat(j),{method:"delete",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:r})}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},color:"secondary"},"Remove Spot")):null)},z=a(47),F=a.n(z),M=a(62),$=a(48),q=(a(87),function(e){var t=Object(n.useState)(""),a=Object(S.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)(""),l=Object(S.a)(i,2),u=l[0],m=l[1],p=Object(g.f)(),h=Object(_.b)();return o.a.createElement("div",{className:"action-container"},o.a.createElement(s.a,{className:"action-card"},o.a.createElement(d.a,null,o.a.createElement("h1",null,"Sign In"),o.a.createElement($.b,{initialValues:{email:"",password:""},onSubmit:function(){var e=Object(M.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",alert(JSON.stringify(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},o.a.createElement($.a,null,o.a.createElement(B.a,{className:"inputs action-text-field",id:"standard-basic",label:"Email",type:"email",onChange:function(e){return r(e.target.value)}}),o.a.createElement(B.a,{className:"inputs action-text-field",id:"standard-basic",label:"Password",type:"password",onChange:function(e){return m(e.target.value)}}),o.a.createElement("div",{className:"card-buttons-container"},o.a.createElement("div",null,o.a.createElement(E.a,{onClick:function(e){fetch("https://the-spot01.herokuapp.com/sign-in",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c,password:u})}).then((function(e){e.status<400?(h({type:"CHANGE_CURRENT_USER",payload:c}),p.push("/the-spot")):alert("Please provide a valid/verified email and password.")})).catch((function(e){return console.log(e)}))},color:"primary",className:"main-action-button",variant:"extended"},"Sign In")),o.a.createElement("div",null,o.a.createElement(A.b,{to:"/the-spot/register",style:{textDecoration:"none",color:"black"}},o.a.createElement("p",null,"Register")))))))))}),K=function(e){var t=Object(n.useState)(""),a=Object(S.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)(""),l=Object(S.a)(i,2),u=l[0],m=l[1],p=Object(n.useState)(""),h=Object(S.a)(p,2),b=h[0],f=h[1],v=Object(n.useState)(!1),O=Object(S.a)(v,2),y=O[0],j=O[1];Object(g.f)();return o.a.createElement("div",{className:"action-container"},y?o.a.createElement("h2",null,"Please check your email and click on the link to verify your account."):o.a.createElement(s.a,{className:"action-card"},o.a.createElement(d.a,null,o.a.createElement("h1",null,"Register"),o.a.createElement($.b,{initialValues:{email:"",password:""},onSubmit:function(){var e=Object(M.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",alert(JSON.stringify(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},o.a.createElement($.a,null,o.a.createElement(B.a,{className:"inputs action-text-field",id:"standard-basic",label:"Name",type:"name",onChange:function(e){return r(e.target.value)}}),o.a.createElement(B.a,{className:"inputs action-text-field",id:"standard-basic",label:"Email",type:"email",onChange:function(e){return m(e.target.value)}}),o.a.createElement(B.a,{className:"inputs action-text-field",id:"standard-basic",label:"Password",type:"password",onChange:function(e){return f(e.target.value)}}),o.a.createElement("div",{className:"card-buttons-container"},o.a.createElement("div",null,o.a.createElement(E.a,{onClick:function(e){fetch("https://the-spot01.herokuapp.com/register",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:c,email:u,password:b})}).then((function(e){e.status<400?j(!0):alert("Please provide a valid email that is not in use.")})).catch((function(e){return alert("Could not register user")}))},color:"primary",className:"main-action-button",variant:"extended"},"Register")),o.a.createElement("div",null,o.a.createElement(A.b,{to:"/the-spot/sign-in",style:{textDecoration:"none",color:"black"}},o.a.createElement("p",null,"Sign In")))))))))},Q=(a(124),function(){var e=new URLSearchParams(window.location.search),t=e.get("id")||"",a=e.get("name")||"",n=e.get("description")||"",c=e.get("image")||"",r=e.get("coords")||"",i=e.get("dateCreated")||"";return o.a.createElement("div",null,o.a.createElement(V,{id:t,name:a,description:n,image:c,coords:r,dateCreated:i,isUpdating:!0}))});function X(){var e=Object(g.f)(),t=Object(_.b)(),a=Object(_.c)((function(e){return e.modifySpotList.spotList})),c=Object(_.c)((function(e){return e.changeSearch.searchText})),r=Object(_.c)((function(e){return e.changeCurrentUser.currentUserEmail}));Object(n.useEffect)((function(){r?fetch("https://the-spot01.herokuapp.com/get-spots/".concat(r)).then((function(e){return e.json()})).then((function(e){t(function(e){return{type:"SET_SPOT_LIST",payload:e}}(e))})).catch((function(e){return console.log(e)})):(console.log("No current user detected, redirecting to sign in"),e&&e.push("/the-spot/sign-in"))}));var i=function(e){return 0===e.list.length?o.a.createElement("p",{style:{textAlign:"center",marginTop:"15%",fontSize:"1.5rem"}},"No spots found, ",o.a.createElement(A.b,{to:"/the-spot/add-spot",style:{color:"black"}},o.a.createElement("strong",null,"add one now!"))):e.list.length>0?e.list.map((function(e){return o.a.createElement(f,{id:e.id,title:e.title,description:e.description,image:e.image,coords:e.coords,dateCreated:e.dateCreated})})):null};return o.a.createElement(A.a,null,o.a.createElement(g.c,null,o.a.createElement(g.a,{exact:!0,path:"/the-spot"},o.a.createElement(J,null),o.a.createElement("p",{className:"recent-spots"},"Recently added"),o.a.createElement("div",{id:"spots-grid",className:0===a.length?"":"spots-grid"},""===c||void 0===c?o.a.createElement(i,{list:a}):o.a.createElement(i,{list:a.filter((function(e){return e.title.toLowerCase().includes(c.toLowerCase())||e.description.toLowerCase().includes(c.toLowerCase())}))})),o.a.createElement(A.b,{to:"/the-spot/add-spot"},o.a.createElement(j,null))),o.a.createElement(g.a,{path:"/the-spot/add-spot"},o.a.createElement(V,null)),o.a.createElement(g.a,{path:"/the-spot/update-spot"},o.a.createElement(Q,null)),o.a.createElement(g.a,{path:"/the-spot/sign-in"},o.a.createElement(q,null)),o.a.createElement(g.a,{path:"/the-spot/register"},o.a.createElement(K,null))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Y=a(41),Z=a(96),ee=a(22),te=a(94),ae=function(e,t){var a,n=0,o=Object(te.a)(e);try{for(o.s();!(a=o.n()).done;){if(a.value.title===t.title)break;n++}}catch(c){o.e(c)}finally{o.f()}return n},ne={spotList:[]},oe={searchText:""},ce={currentUserEmail:""},re=a(95),ie=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return void console.log(t)}}(),se=Object(Y.combineReducers)({modifySpotList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_SPOT":return Object(ee.a)(Object(ee.a)({},e),{},{spotList:[t.payload].concat(Object(Z.a)(e.spotList))});case"UPDATE_SPOT":var a=e.spotList,n=ae(e.spotList,t.payload);return a[n]=t.payload,Object(ee.a)(Object(ee.a)({},e),{},{spotList:a});case"REMOVE_SPOT":var o=e.spotList,c=ae(e.spotList,t.payload);return o.splice(c,1),Object(ee.a)(Object(ee.a)({},e),{},{spotList:o});case"SET_SPOT_LIST":return Object(ee.a)(Object(ee.a)({},e),{},{spotList:t.payload});default:return e}},changeSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_SEARCH":return Object(ee.a)(Object(ee.a)({},e),{},{searchText:t.payload});default:return e}},changeCurrentUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_CURRENT_USER":return Object(ee.a)(Object(ee.a)({},e),{},{currentUserEmail:t.payload});default:return e}}}),le=Object(Y.createStore)(se,ie,Object(re.composeWithDevTools)());le.subscribe((function(){return function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(a){console.log(a)}}(le.getState())})),r.a.render(o.a.createElement(_.a,{store:le},o.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},87:function(e,t,a){}},[[107,1,2]]]);
//# sourceMappingURL=main.3a41e1d6.chunk.js.map